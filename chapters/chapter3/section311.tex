%
% section 3.1.1
%
\subsection{Διευθύνσεις IPv4}
Οι υπολογιστές που συμμετέχουν σε ένα δίκτυο τεχνολογίας TCP/IP αναγνωρίζονται με ένα μοναδικό τρόπο, από ένα 32μπιτο (στην έκδοση 4 του πρωτοκόλλου IP, IPv4) δυαδικό αριθμό, την \emph{διεύθυνση IP}.

Για παράδειγμα, ένας τέτοιος αριθμός είναι ο:

11000000 10101000 00000001 00010010

Τον παραπάνω αριθμό τον έχουμε ομαδοποιήσει σε 4 ομάδες των 8 bit τις οποίες αν μετατρέψουμε στους αντίστοιχους δεκαδικούς αριθμούς θα πάρουμε τους:

192 168 1 18

\begin{inthebox}
Ένας υπολογιστής στην πραγματικότητα μπορεί να έχει \emph{περισσότερες από μία διευθύνσεις}. Για παράδειγμα:

\begin{itemize}
\item Μπορεί να διαθέτει περισσότερες από μία κάρτες δικτύου. Σε κάθε κάρτα δικτύου αντιστοιχίζεται τουλάχιστον μια διεύθυνση IP. Επίσης μπορούμε να αντιστοιχίσουμε πολλαπλές διευθύνσεις IP σε μια κάρτα.
\item Μπορεί να είναι συνδεδεμένος ταυτόχρονα σε περισσότερα από ένα δίκτυα. Η σύνδεση μπορεί να γίνεται μέσω μιας κάρτας ή πολλών. Διαφορετικά δίκτυα χρησιμοποιούν διαφορετικές περιοχές/κλάσεις διευθύνσεων (θα δούμε παρακάτω) άρα ο υπολογιστής πρέπει να έχει μια διεύθυνση κατάλληλη για κάθε δίκτυο. Ένας υπολογιστής που έχει το ρόλο δρομολογητή έχει μια κάρτα δικτύου για κάθε διαφορετικό δίκτυο στο οποίο είναι συνδεδεμένος και προωθεί πακέτα από το ένα δίκτυο στο άλλο με βάση συγκεκριμένους κανόνες.
\end{itemize}

Μια διεύθυνση IP που προσδιορίζει μια συγκεκριμένη δικτυακή διασύνδεση (ένα υπολογιστή, μια συγκεκριμένη κάρτα δικτύου) χαρακτηρίζεται ως \emph{αποκλειστικής διανομής (unicast)}. Όπως θα δούμε, υπάρχουν διευθύνσεις \emph{multicast} που προορίζονται για πολυδιανομή (αποστολή των ίδιων πακέτων σε πολλούς παραλήπτες).\\
\end{inthebox}

\subsubsection*{Τρόπος Γραφής μιας Διεύθυνσης IPv4}

Επειδή είναι δύσκολο για τον άνθρωπο να απομνημονεύει δυαδικούς αριθμούς μεγέθους 32bit, συνηθίζεται να αναγράφουμε τις διευθύνσεις IP στη δεκαδική τους μορφή. Για το σκοπό αυτό:

\begin{itemize}
\item Χωρίζουμε τα δυαδικά ψηφία σε οκτάδες. Δημιουργούνται έτσι τέσσερα τμήματα του ενός byte το καθένα.
\item Μετατρέπουμε τους αριθμούς στους δεκαδικούς αντίστοιχους.
\item Γράφουμε τους αριθμούς χωρισμένους μεταξύ τους με τελείες.
\end{itemize}

Ο αριθμός του προηγούμενου παραδείγματος:

11000000\textsubscript{2} = 192\textsubscript{10}\\
10101000\textsubscript{2} = 168\textsubscript{10}\\
00000001\textsubscript{2} = 1\textsubscript{10}\\
00010010\textsubscript{2} = 18\textsubscript{10}

γράφεται τελικά ως 192.168.1.18

Σύμφωνα με τον παραπάνω τρόπο γραφής, για να είναι έγκυρη μια διεύθυνση IP, θα πρέπει:

\begin{itemize}
\item Να αποτελείται από \emph{τέσσερις δεκαδικούς αριθμούς} που να χωρίζονται μεταξύ τους με τελείες.
\item Κάθε αριθμός να είναι \emph{μεταξύ του μηδενός (0)  και του 255}. Με 8bit (1 byte) ο ελάχιστος αριθμός που μπορούμε να γράψουμε είναι το 0 και ο μέγιστος το 2\textsuperscript{8}-1=255. 
\end{itemize}

Παραδείγματα διευθύνσεων IP:

\begin{tabular}{|c|c|c|c|}
\hline
\rowcolor[gray]{0.95}
Α/Α & Διεύθυνση & Σωστή/Λάθος & Αιτιολογία\\
\hline
1 & 192.168.1.12 & Σωστή &  \\
\hline
2 & 10.0.0.12.3 & Λάθος & Περισσότερα από 4 τμήματα \\
\hline
3 & 172.16.257.3 & Λάθος & Ένα τμήμα είναι μεγαλύτερο από 255 \\
\hline
4 & 10.146.0.1 & Σωστή & \\
\hline
5 & 194.219.227.3 & & \\
\hline
6 & 127.270.0.1 & & \\
\hline
\end{tabular}

Για να μάθετε να μετατρέπετε αριθμούς από το ένα σύστημα στο άλλο, δείτε τα παρακάτω παραδείγματα.

\subsubsection*{Μετατροπή Δυαδικού σε Δεκαδικό}

Σε όλα τα συστήματα αρίθμησης, η θέση ενός ψηφίου δίνει τo βάρος του. Για παράδειγμα, στο δεκαδικό σύστημα, το δεξιότερο ψηφίο ενός αριθμού αντιπροσωπεύει τις μονάδες, το επόμενο τις δεκάδες, μετά τις εκατοντάδες κ.ο.κ. Γενικά θεωρώντας ότι το δεξιότερο ψηφίο αντιστοιχεί στη θέση μηδέν, η αξία του είναι:

ψηφίο Χ 10\textsuperscript{θέση} 

Όλα τα υπόλοιπα αριθμητικά συστήματα (και μπορούμε να φτιάξουμε όσα θέλουμε!) βασίζονται στην ίδια λογική, αλλάζει όμως η βάση. Έτσι π.χ. στο δυαδικό, το δεξιότερο (λιγότερο σημαντικό) ψηφίο αντιπροσωπεύει τις μονάδες, το επόμενο τις δυάδες, μετά τις τετράδες, οκτάδες κλπ. και γενικά μπορούμε να πούμε ότι η αξία ενός ψηφίου υπολογίζεται ως

ψηφίο Χ 2\textsuperscript{θέση}

Στο δυαδικό βέβαια η μετατροπή είναι πολύ εύκολη καθώς τα ψηφία μπορεί να είναι μόνο 0 και 1 οπότε η μόνη πράξη που πρέπει να κάνουμε ουσιαστικά είναι η πρόσθεση (και λίγες δυνάμεις του 2).

Καθώς για τα συγκεκριμένα προβλήματα μας ενδιαφέρει να μετατρέπουμε αριθμούς από το 0 ως το 255, ξέρουμε ότι θα χρειαζόμαστε 8 bit. Φτιάχνουμε τον παρακάτω πίνακα με δυνάμεις από το 2\textsuperscript{0} ως 2\textsuperscript{7} και γράφουμε μέσα σε αυτό το δυαδικό αριθμό που θέλουμε να μετατρέψουμε:

\begin{center}
\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
\hline
Αξία Ψηφίου: & 128 & 64 & 32 & 16 & 8 & 4 & 2 & 1 \\
\hline
\textbf{Ψηφίο:} & \textbf{1} & \textbf{1} & \textbf{0} & \textbf{1} & \textbf{0} & \textbf{0} & \textbf{1} & \textbf{1} \\
\hline
\textbf{Θέση Ψηφίου:} & \textbf{b\textsubscript{7}}& \textbf{b\textsubscript{6}} & \textbf{b\textsubscript{5}} & \textbf{b\textsubscript{4}} & \textbf{b\textsubscript{3}}& \textbf{b\textsubscript{2}} & \textbf{b\textsubscript{1}} & \textbf{b\textsubscript{0}}  \\
\hline
\end{tabular}
\end{center}

Αθροίζουμε τώρα όλες τις στήλες στις οποίες έχουμε άσους:

128+64+16+2+1=211. Δηλαδή:

11010011\textsubscript{2} = 211\textsubscript{10}

\subsubsection*{Μετατροπή Δεκαδικού Αριθμού σε Δυαδικό}

Για αυτή τη μετατροπή, δείχνουμε ένα απλό τρόπο χωρίς διαιρέσεις (τον κλασικό τρόπο μετατροπής που ήδη ξέρετε). Καθώς για το μάθημα δεν χρειαζόμαστε ποτέ αριθμούς μεγαλύτερους από 255, ξέρουμε ότι θα έχουμε πάντα το πολύ οκτώ ψηφία.

Το βιβλίο έχει σαν παράδειγμα τον αριθμό 207, \textbf{αλλά βγάζει λάθος αποτέλεσμα(!)} γιατί έχουν κάνει λάθος στις πράξεις\ldots

Για να μετατρέψουμε το 207:

\begin{enumerate}
\item Ελέγχουμε αν αφαιρείται το 128 από το 207. Το αποτέλεσμα είναι 79. Σημειώνουμε \textbf{1} στο αντίστοιχο κουτάκι.
\item Ελέγχουμε τώρα το υπόλοιπο 79 με την αμέσως χαμηλότερη δύναμη του 2, το 64. 79-64=15. Γράφουμε και πάλι \textbf{1} στο αντίστοιχο κουτάκι.
\item Ελέγχουμε τώρα το 15 με την αμέσως χαμηλότερη δύναμη του 2, το 32. Επειδή το 32 δεν αφαιρείται από το 15, γράφουμε \textbf{0} στο αντίστοιχο κουτάκι.
\item Ελέγχουμε το 15 με την αμέσως χαμηλότερη δύναμη του 2, το 16. Επειδή το 16 δεν αφαιρείται από το 15, γράφουμε \textbf{0} στο αντίστοιχο κουτάκι.
\item Ελέγχουμε το 15 με την αμέσως χαμηλότερη δύναμη του 2, το 8. 15-8=7 οπότε γράφουμε \textbf{1} στο αντίστοιχο κουτάκι.
\item Ελέγχουμε το 7 με την αμέσως χαμηλότερη δύναμη του 2, το 4. 7-4=3 οπότε γράφουμε \textbf{1} στο αντίστοιχο κουτάκι.
\item Ελέγχουμε το 3 με την αμέσως χαμηλότερη δύναμη του 2, το 2. 3-2=1 οπότε γράφουμε \textbf{1} στο αντίστοιχο κουτάκι.
\item Τέλος, ελέγχουμε το 1 με την χαμηλότερη δύναμη του 2, το 1. 1-1=0 οπότε γράφουμε \textbf{1} στο αντίστοιχο κουτάκι.
\end{enumerate}

Το τελικό αποτέλεσμα είναι ο δυαδικός αριθμός 11001111.

\begin{center}
\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
\hline
Αξία Ψηφίου: & 128 & 64 & 32 & 16 & 8 & 4 & 2 & 1 \\
\hline
\textbf{Ψηφίο:} & \textbf{1} & \textbf{1} & \textbf{0} & \textbf{0} & \textbf{1} & \textbf{1} & \textbf{1} & \textbf{1} \\
\hline
\textbf{Θέση Ψηφίου:} & \textbf{b\textsubscript{7}}& \textbf{b\textsubscript{6}} & \textbf{b\textsubscript{5}} & \textbf{b\textsubscript{4}} & \textbf{b\textsubscript{3}}& \textbf{b\textsubscript{2}} & \textbf{b\textsubscript{1}} & \textbf{b\textsubscript{0}}  \\
\hline
\end{tabular}

Αποτέλεσμα: 207\textsubscript{10} = 11001111\textsubscript{2}
\end{center}

\subsubsection*{Υποδείξεις για τις Μετατροπές}

Όταν ένας αριθμός αποτελείται μόνο από δεξιά προς τα αριστερά συνεχόμενους άσους, αντί να κάνουμε τις πράξεις για να βρούμε το δεκαδικό αριθμό, απλά κοιτάμε την επόμενη αξία από τον πρώτο (αριστερότερο) άσο. Η τιμή που ψάχνουμε είναι αυτή η αξία μείον ένα.

Παράδειγμα:

\begin{center}
\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
\hline
Αξία Ψηφίου: & 128 & 64 & 32 & 16 & 8 & 4 & 2 & 1 \\
\hline
\textbf{Ψηφίο:} & \textbf{0} & \textbf{0} & \textbf{0} & \textbf{1} & \textbf{1} & \textbf{1} & \textbf{1} & \textbf{1} \\
\hline
\textbf{Θέση Ψηφίου:} & \textbf{b\textsubscript{7}}& \textbf{b\textsubscript{6}} & \textbf{b\textsubscript{5}} & \textbf{b\textsubscript{4}} & \textbf{b\textsubscript{3}}& \textbf{b\textsubscript{2}} & \textbf{b\textsubscript{1}} & \textbf{b\textsubscript{0}}  \\
\hline
\end{tabular}

Αποτέλεσμα: 00011111\textsubscript{2} = 31\textsubscript{10} 
\end{center}

Μπορείτε επίσης σε αυτή τη περίπτωση να κάνετε απλά την πράξη 2\textsuperscript{πλήθος-άσων}-1. Δηλαδή 2\textsuperscript{5}-1 = 32 - 1 = 31.

Όταν έχουμε περισσότερους άσους από μηδενικά, μπορούμε αντί να αθροίζουμε τις αξίες των άσων, να αφαιρέσουμε τις αξίες των μηδενικών από το 255 που είναι ο μέγιστος αριθμός που μπορούμε να γράψουμε με 8 ψηφία.

Παράδειγμα:

\begin{center}
\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
\hline
Αξία Ψηφίου: & 128 & 64 & 32 & 16 & 8 & 4 & 2 & 1 \\
\hline
\textbf{Ψηφίο:} & \textbf{1} & \textbf{1} & \textbf{0} & \textbf{1} & \textbf{0} & \textbf{1} & \textbf{1} & \textbf{1} \\
\hline
\textbf{Θέση Ψηφίου:} & \textbf{b\textsubscript{7}}& \textbf{b\textsubscript{6}} & \textbf{b\textsubscript{5}} & \textbf{b\textsubscript{4}} & \textbf{b\textsubscript{3}}& \textbf{b\textsubscript{2}} & \textbf{b\textsubscript{1}} & \textbf{b\textsubscript{0}}  \\
\hline
\end{tabular}

Αποτέλεσμα: 255 - 32 - 8 = 215 
\end{center}

Τέλος, παρατηρήστε ότι όλες οι δυνάμεις του 2 είναι ζυγοί αριθμοί, εκτός από το 2\textsuperscript{0}=1. Οπότε όποιος αριθμός στο δυαδικό τελειώνει σε 1, είναι περιττός (μονός) ενώ όποιος τελειώνει σε 0 είναι άρτιος (ζυγός). Έτσι μπορείτε να κάνετε μια πρώτη γρήγορη επαλήθευση των πράξεων σας.